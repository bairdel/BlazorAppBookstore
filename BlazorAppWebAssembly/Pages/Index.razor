@page "/"
@using BlazorAppWebAssembly.Models


<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<PageTitle>Book Catalog</PageTitle>
<h1>Book Catalog </h1>
@if(books is null)
{
<p><em>Loading...</em></p>    
}
else
{
<table class="=table table-striped table-bordered table-hover">
    <tr class="table-dark">
        <th>ID</th>
        <th>Name</th>
        <th>Genre</th>
        <th>Price</th>
        <th>Publish Date</th>
        <th></th>
    </tr>

    <tbody>
    @foreach(var book in books)
    {
        <tr>
            <td>@book.ID</td>
            <td>@book.Name</td>
            <td>@book.Genre</td>
            <td>@book.Price</td>
            <td>@book.PublishDate.ToShortDateString() </td>
            <td></td>
        </tr>
    }
    </tbody>
</table>
}

@code {
    private Book[]? books; //? is used to make it nullable array
    protected override void OnInitialized()
    {
        books = BookClient.GetBooks(); //blazor will invoke this runtime
        }
        }
